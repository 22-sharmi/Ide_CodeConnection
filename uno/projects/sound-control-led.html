<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>UNO LED Control</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <script>
    function toggleSection(id) {
      document.getElementById("testCode").classList.add("hidden");
      document.getElementById("clapOnceCode").classList.add("hidden");
      document.getElementById("clapToggleCode").classList.add("hidden");
      document.getElementById(id).classList.remove("hidden");
    }
  </script>
</head>
<body class="bg-white text-gray-800 min-h-screen flex flex-col items-center py-10 px-4">
  <div class="w-full max-w-3xl">
    <h1 class="text-3xl font-bold mb-6 text-center">UNO plus Sound Sensor - LED Control</h1>
    <p class="mb-4 text-center">Test and control LED using clap sensor modes with Arduino UNO</p>

    <!-- Toggle Buttons -->
    <div class="flex justify-center gap-4 mb-6">
      <button onclick="toggleSection('testCode')" class="bg-gray-600 text-white px-4 py-2 rounded hover:bg-gray-700">Normal Test</button>
      <button onclick="toggleSection('clapOnceCode')" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">Clap - Blink Once</button>
      <button onclick="toggleSection('clapToggleCode')" class="bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700">Clap - Toggle On/Off</button>
    </div>

    <!-- Normal Test Code -->
    <div id="testCode" class="hidden">
      <h2 class="text-2xl font-bold mb-2 text-center">Normal Sensor Test (Serial Monitor)</h2>
      <pre class="bg-gray-100 p-4 rounded w-full overflow-x-auto mb-6">
<code>
const int soundSensorPin = 2;

void setup() {
  pinMode(soundSensorPin, INPUT);
  Serial.begin(115200);
}

void loop() {
  int value = digitalRead(soundSensorPin);
  Serial.println(value);
  delay(100);
}
</code>
      </pre>
    </div>

    <!-- Clap Once Code -->
    <div id="clapOnceCode" class="hidden">
      <h2 class="text-2xl font-bold mb-2 text-center">Clap to Blink LED Once</h2>
      <pre class="bg-gray-100 p-4 rounded w-full overflow-x-auto mb-6">
<code>
const int soundSensorPin = 2;
const int ledPin = 13;
int lastSensorState = HIGH;

void setup() {
  pinMode(soundSensorPin, INPUT);
  pinMode(ledPin, OUTPUT);
  Serial.begin(115200);
}

void loop() {
  int currentSensorState = digitalRead(soundSensorPin);

  if (currentSensorState == LOW && lastSensorState == HIGH) {
    digitalWrite(ledPin, HIGH);
    Serial.println("Clap Detected!");
    delay(200);
    digitalWrite(ledPin, LOW);
  }

  lastSensorState = currentSensorState;
}
</code>
      </pre>
    </div>

    <!-- Clap Toggle Code -->
    <div id="clapToggleCode" class="hidden">
      <h2 class="text-2xl font-bold mb-2 text-center">Clap to Toggle LED ON/OFF</h2>
      <pre class="bg-gray-100 p-4 rounded w-full overflow-x-auto mb-6">
<code>
const int soundSensorPin = 2;
const int ledPin = 13;
bool ledState = false;
int lastSensorState = HIGH;

void setup() {
  pinMode(soundSensorPin, INPUT);
  pinMode(ledPin, OUTPUT);
  digitalWrite(ledPin, LOW);
  Serial.begin(115200);
}

void loop() {
  int currentSensorState = digitalRead(soundSensorPin);

  if (currentSensorState == LOW && lastSensorState == HIGH) {
    ledState = !ledState;
    digitalWrite(ledPin, ledState ? HIGH : LOW);
    Serial.println("Clap Detected - LED " + String(ledState ? "ON" : "OFF"));
    delay(300);
  }

  lastSensorState = currentSensorState;
}
</code>
      </pre>
    </div>

    <div class="text-center">
      <a href="../index.html" class="text-blue-600 hover:underline">‚Üê Back to UNO Projects</a>
    </div>
  </div>
</body>
</html>
